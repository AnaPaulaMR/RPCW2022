extends layout

block content
  .w3-card-4.w3-margin
    .w3-container.w3-teal
      h3 Fomulário de upload de ficheiros

    form.w3-container.w3-margin(action='/' method='POST' enctype="multipart/form-data")
      .w3-row.w3-margin-bottom
        .w3-col.s3
          label.w3-text-teal
            b Descrição
        .w3-col.s9.w3-border
          input.w3-input(type='text' name='description' placeholder='Insira uma descrição do ficheiro.')
      .w3-row.w3-margin-bottom
        .w3-col.s3
          label.w3-text-teal
            b Selecione o ficheiro
        .w3-col.s9.w3-border
          input.w3-input.w3-border.w3-light-grey(type='file' name='myFile')
      
      .w3-row.w3-margin.w3-center
        input.w3-btn.w3-teal(type='submit' value='Submit')

  .w3-card-4.w3-margin
    .w3-container.w3-teal
      h3 Lista de ficheiros
    
    table.w3-table.w3-bordered
      tr
        th Data 
        th Descrição
        th Ficheiro 
        th Tamanho
        th Tipo 
        th 
      
      each f in list
        tr
          td= f.date.toISOString().substring(0, 16)
          td= f.description 
          td
            a(href='/download/' + f.file.split('/')[1])= f.name
          td= f.size
          td= f.type
          td 
            a(href='/remove/' + f._id) X

    .w3-container.w3-teal
      address Generated by FileApp :: 2022-Apr, apmr
